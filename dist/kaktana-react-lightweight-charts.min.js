module.exports=function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=3)}([function(e,r){e.exports=require("react")},function(e,r){e.exports=require("lightweight-charts")},function(e,r,t){"use strict";e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var n,o,i;if(Array.isArray(r)){if((n=r.length)!=t.length)return!1;for(o=n;0!=o--;)if(!e(r[o],t[o]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((n=(i=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,i[o]))return!1;for(o=n;0!=o--;){var a=i[o];if(!e(r[a],t[a]))return!1}return!0}return r!=r&&t!=t}},function(e,r,t){"use strict";t.r(r);var n=t(0),o=t.n(n),i=t(1),a=t(2),c=t.n(a);for(var s in i)["default"].indexOf(s)<0&&function(e){t.d(r,e,(function(){return i[e]}))}(s);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){O(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function d(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,r){return(v=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function g(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=m(e);if(r){var o=m(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return b(this,t)}}function b(e,r){return!r||"object"!==u(r)&&"function"!=typeof r?y(e):r}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var S={candlestick:"addCandlestickSeries",line:"addLineSeries",area:"addAreaSeries",bar:"addBarSeries",histogram:"addHistogramSeries"},j={candlestickSeries:"candlestick",lineSeries:"line",areaSeries:"area",barSeries:"bar",histogramSeries:"histogram"},C=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#F86624","#A5978B"],k={layout:{backgroundColor:"#131722",lineColor:"#2B2B43",textColor:"#D9D9D9"},grid:{vertLines:{color:"#363c4e"},horzLines:{color:"#363c4e"}}},w={layout:{backgroundColor:"#FFFFFF",lineColor:"#2B2B43",textColor:"#191919"},grid:{vertLines:{color:"#e1ecf2"},horzLines:{color:"#e1ecf2"}}},E=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&v(e,r)}(s,e);var r,t,n,a=g(s);function s(e){var r;return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,s),O(y(r=a.call(this,e)),"resizeHandler",(function(){var e=r.props.autoWidth&&r.chartDiv.current&&r.chartDiv.current.parentNode.clientWidth,t=r.props.autoHeight&&r.chartDiv.current?r.chartDiv.current.parentNode.clientHeight:r.props.height||500;r.chart.resize(e,t)})),O(y(r),"removeSeries",(function(){Object.values(r.series).forEach((function(e){e.forEach((function(e){return r.chart.removeSeries(e)}))})),Object.keys(r.series).forEach((function(e){r.series[e]=[]}))})),O(y(r),"addSeries",(function(e,t){var n=S[t],o=e.options&&e.options.color||C[r.series.length%C.length],i=r.chart[n](p({color:o},e.options)),a=r.handleLinearInterpolation(e.data,e.linearInterpolation);return i.setData(a),e.markers&&i.setMarkers(e.markers),e.priceLines&&e.priceLines.forEach((function(e){return i.createPriceLine(e)})),e.legend&&r.addLegend(i,o,e.legend),i})),O(y(r),"handleSeries",(function(){var e=r.props;Object.entries(j).forEach((function(t){var n=l(t,2),o=n[0],i=n[1];e[o]&&e[o].forEach((function(e){r.series[o].push(r.addSeries(e,i))}))}))})),O(y(r),"unsubscribeEvents",(function(e){var t=r.chart;t.unsubscribeClick(e.onClick),t.unsubscribeCrosshairMove(e.onCrosshairMove),t.timeScale().unsubscribeVisibleTimeRangeChange(e.onTimeRangeMove)})),O(y(r),"handleEvents",(function(){var e=r.chart,t=r.props;t.onClick&&e.subscribeClick(t.onClick),t.onCrosshairMove&&e.subscribeCrosshairMove(t.onCrosshairMove),t.onTimeRangeMove&&e.timeScale().subscribeVisibleTimeRangeChange(t.onTimeRangeMove),e.subscribeCrosshairMove(r.handleLegends)})),O(y(r),"handleTimeRange",(function(){var e=r.props,t=e.from,n=e.to;t&&n&&r.chart.timeScale().setVisibleRange({from:t,to:n})})),O(y(r),"handleLinearInterpolation",(function(e,r){if(!r||e.length<2||!e[0].value)return e;var t=e[0].time,n=e[e.length-1].time,o=new Array(Math.floor((n-t)/r));o[0]=e[0];for(var i=1,a=1;a<e.length;a++){o[i++]=e[a];for(var c=e[a-1].time,s=e[a-1].value,u=e[a],l=u.time,f=u.value,h=c;h<l-r;h+=r){var p=s+(f-s)/(l-c)*(h-c);o[i++]={time:h,value:p}}}return o.filter((function(e){return e}))})),O(y(r),"handleInitChart",(function(){window.removeEventListener("resize",r.resizeHandler);var e=y(r),t=e.chart,n=e.chartDiv,o=r.props,i=r.props.darkTheme?k:w;i=M(i,p({width:o.autoWidth?n.current.parentNode.clientWidth:o.width,height:o.autoHeight?n.current.parentNode.clientHeight:o.height||500},o.options)),t.applyOptions(i),r.legendDiv.current&&(r.legendDiv.current.innerHTML=""),r.legends=[],r.props.legend&&r.handleMainLegend(),r.handleSeries(),r.handleEvents(),r.handleTimeRange(),(o.autoWidth||o.autoHeight)&&window.addEventListener("resize",r.resizeHandler)})),O(y(r),"addLegend",(function(e,t,n){r.legends.push({series:e,color:t,title:n})})),O(y(r),"handleLegends",(function(e){var t=r.legendDiv.current;e.time&&t&&r.legends.length&&(t.innerHTML="",r.legends.forEach((function(r){var n=r.series,o=r.color,i=r.title,a=e.seriesPrices.get(n);if(void 0!==a){"object"==u(a)&&(o=a.open<a.close?"rgba(0, 150, 136, 0.8)":"rgba(255,82,82, 0.8)",a="O: ".concat(a.open,", H: ").concat(a.high,", L: ").concat(a.low,", C: ").concat(a.close));var c=document.createElement("div");c.innerText=i+" ";var s=document.createElement("span");s.style.color=o,s.innerText=" "+a,c.appendChild(s),t.appendChild(c)}})))})),O(y(r),"handleMainLegend",(function(){if(r.legendDiv.current){var e=document.createElement("div");e.innerText=r.props.legend,r.legendDiv.current.appendChild(e)}})),r.chartDiv=o.a.createRef(),r.legendDiv=o.a.createRef(),r.chart=null,r.series={candlestickSeries:[],lineSeries:[],areaSeries:[],barSeries:[],histogramSeries:[]},r.legends=[],r}return r=s,(t=[{key:"componentDidMount",value:function(){this.chart=Object(i.createChart)(this.chartDiv.current),this.handleInitChart(),this.resizeHandler()}},{key:"componentDidUpdate",value:function(e){var r,t,n,o,i,a,s,u,l,f,h=this;this.props.autoWidth||this.props.autoHeight||window.removeEventListener("resize",this.resizeHandler),c()([e.onCrosshairMove,e.onTimeRangeMove,e.onClick],[this.props.onCrosshairMove,this.props.onTimeRangeMove,this.props.onClick])||this.unsubscribeEvents(e);var p=this.props.alwaysClean;c()([e.options,e.darkTheme,null===(r=e.candlestickSeries)||void 0===r?void 0:r.length,null===(t=e.lineSeries)||void 0===t?void 0:t.length,null===(n=e.areaSeries)||void 0===n?void 0:n.length,null===(o=e.barSeries)||void 0===o?void 0:o.length,null===(i=e.histogramSeries)||void 0===i?void 0:i.length],[this.props.options,this.props.darkTheme,null===(a=this.props.candlestickSeries)||void 0===a?void 0:a.length,null===(s=this.props.lineSeries)||void 0===s?void 0:s.length,null===(u=this.props.areaSeries)||void 0===u?void 0:u.length,null===(l=this.props.barSeries)||void 0===l?void 0:l.length,null===(f=this.props.histogramSeries)||void 0===f?void 0:f.length])||(p=!0),p?(this.removeSeries(),this.handleInitChart()):Object.keys(this.series).forEach((function(e){h.series[e].forEach((function(r,t){r.setData(h.props[e][t].data)}))})),e.from===this.props.from&&e.to===this.props.to||this.handleTimeRange()}},{key:"render",value:function(){var e=this.props.darkTheme?k.layout.textColor:w.layout.textColor;return o.a.createElement("div",{ref:this.chartDiv,style:{position:"relative"}},o.a.createElement("div",{ref:this.legendDiv,style:{position:"absolute",zIndex:2,color:e,padding:10}}))}}])&&d(r.prototype,t),n&&d(r,n),s}(o.a.Component);r.default=E;var D=function(e){return e&&"object"===u(e)&&!Array.isArray(e)},M=function e(r,t){var n=Object.assign({},r);return D(r)&&D(t)&&Object.keys(t).forEach((function(o){D(t[o])&&o in r?n[o]=e(r[o],t[o]):Object.assign(n,O({},o,t[o]))})),n}}]);